{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/gmc/Desktop/git/ASDL-FrontEnd/src/Components/Jsx/Dashboard/Pages/Receipt.jsx\";\nimport React, { Component } from 'react';\nimport randomstring from 'randomstring';\nimport moment from 'moment';\nimport \"../../../Css/Receipt.css\";\n\nclass Receipt extends Component {\n  constructor() {\n    super();\n    this.state = {\n      txnId: \"\",\n      dateTime: moment().format('MMMM Do YYYY, h:mm:ss a'),\n      amt: 0,\n      data: \"\"\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.ticketView = this.ticketView.bind(this);\n  }\n  /*handleChange(event){\n      this.setState({\n          [ event.target.name ] : event.target.value\n        })\n    }*/\n\n\n  async ticketView(event) {\n    event.preventDefault();\n    var form = {\n      transaction_id: this.state.txnId,\n      token: localStorage.getItem(\"token\")\n    };\n    fetch(\"http://127.0.0.1:8000/booking/get_transaction_tickets/\", {\n      method: 'POST',\n      headers: {\n        'Content-type': 'application/json'\n      },\n      body: JSON.stringify(form)\n    }).then(response => response.json()).then(data => {\n      console.log(data);\n      this.props.history.push({\n        pathname: '/Dashboard/Ticket',\n        state: data\n      });\n    });\n  }\n\n  async handleSubmit(event) {\n    event.preventDefault();\n    this.props.history.push('/Dashboard');\n  }\n\n  handleChange(event) {\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  }\n\n  render() {\n    this.state.data = this.props.history.location.state;\n    this.state.txnId = this.state.data.transaction_id;\n    this.state.amt = this.state.data.price;\n    console.log(this.state.data);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"receipt\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"receipt-box\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Your Transaction is Successful !\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          autoComplete: \"off\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"receipt-label\",\n            children: /*#__PURE__*/_jsxDEV(\"label\", {\n              children: [\"Transaction ID : \", this.state.txnId]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"receipt-label\",\n            children: /*#__PURE__*/_jsxDEV(\"label\", {\n              children: [\"Date : \", this.state.dateTime, \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"receipt-label\",\n            children: /*#__PURE__*/_jsxDEV(\"label\", {\n              children: [\"Amount :  \\u20B9 \", this.state.amt]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"receipt-home\",\n            type: \"submit\",\n            onClick: this.handleSubmit,\n            value: \"Go to Dashboard\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 124\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"ticket-view\",\n            type: \"submit\",\n            onClick: this.ticketView,\n            value: \"View Booked Ticket\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 124\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Receipt;","map":{"version":3,"sources":["/Users/gmc/Desktop/git/ASDL-FrontEnd/src/Components/Jsx/Dashboard/Pages/Receipt.jsx"],"names":["React","Component","randomstring","moment","Receipt","constructor","state","txnId","dateTime","format","amt","data","handleChange","bind","handleSubmit","ticketView","event","preventDefault","form","transaction_id","token","localStorage","getItem","fetch","method","headers","body","JSON","stringify","then","response","json","console","log","props","history","push","pathname","setState","target","name","value","render","location","price"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,YAAP,MAAyB,cAAzB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,OAAO,0BAAP;;AAIA,MAAMC,OAAN,SAAsBH,SAAtB,CAA+B;AAE3BI,EAAAA,WAAW,GAAE;AACT;AACA,SAAKC,KAAL,GAAW;AAEPC,MAAAA,KAAK,EAAG,EAFD;AAGPC,MAAAA,QAAQ,EAAGL,MAAM,GAAGM,MAAT,CAAgB,yBAAhB,CAHJ;AAIPC,MAAAA,GAAG,EAAG,CAJC;AAKPC,MAAAA,IAAI,EAAC;AALE,KAAX;AAQA,SAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBD,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKE,UAAL,GAAkB,KAAKA,UAAL,CAAgBF,IAAhB,CAAqB,IAArB,CAAlB;AACH;AAED;AACJ;AACA;AACA;AACA;;;AAEI,QAAME,UAAN,CAAiBC,KAAjB,EAAuB;AACpBA,IAAAA,KAAK,CAACC,cAAN;AAGC,QAAIC,IAAI,GAAC;AACLC,MAAAA,cAAc,EAAE,KAAKb,KAAL,CAAWC,KADtB;AAELa,MAAAA,KAAK,EAAEC,YAAY,CAACC,OAAb,CAAqB,OAArB;AAFF,KAAT;AAIFC,IAAAA,KAAK,CAAC,wDAAD,EAA0D;AAC7DC,MAAAA,MAAM,EAAE,MADqD;AAE7DC,MAAAA,OAAO,EAAG;AAAC,wBAAgB;AAAjB,OAFmD;AAG7DC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeV,IAAf;AAHuD,KAA1D,CAAL,CAKDW,IALC,CAKIC,QAAQ,IACVA,QAAQ,CAACC,IAAT,EANF,EASDF,IATC,CASKlB,IAAI,IAAG;AACVqB,MAAAA,OAAO,CAACC,GAAR,CAAYtB,IAAZ;AACA,WAAKuB,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB;AAACC,QAAAA,QAAQ,EAAG,mBAAZ;AAAkC/B,QAAAA,KAAK,EAAGK;AAA1C,OAAxB;AAEH,KAbC;AAgBD;;AAED,QAAMG,YAAN,CAAmBE,KAAnB,EAAyB;AACrBA,IAAAA,KAAK,CAACC,cAAN;AAEC,SAAKiB,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,YAAxB;AACH;;AAEFxB,EAAAA,YAAY,CAACI,KAAD,EAAO;AACf,SAAKsB,QAAL,CAAc;AACV,OAAEtB,KAAK,CAACuB,MAAN,CAAaC,IAAf,GAAwBxB,KAAK,CAACuB,MAAN,CAAaE;AAD3B,KAAd;AAGH;;AAEDC,EAAAA,MAAM,GAAG;AAGL,SAAKpC,KAAL,CAAWK,IAAX,GAAkB,KAAKuB,KAAL,CAAWC,OAAX,CAAmBQ,QAAnB,CAA4BrC,KAA9C;AACA,SAAKA,KAAL,CAAWC,KAAX,GAAkB,KAAKD,KAAL,CAAWK,IAAX,CAAgBQ,cAAlC;AACA,SAAKb,KAAL,CAAWI,GAAX,GAAgB,KAAKJ,KAAL,CAAWK,IAAX,CAAgBiC,KAAhC;AACAZ,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAK3B,KAAL,CAAWK,IAAvB;AAEA,wBAEI;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA,6BACQ;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA,gCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AAAM,UAAA,YAAY,EAAC,KAAnB;AAAA,kCAEA;AAAK,YAAA,SAAS,EAAC,eAAf;AAAA,mCACI;AAAA,8CAAyB,KAAKL,KAAL,CAAWC,KAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,kBAFA,eAMA;AAAK,YAAA,SAAS,EAAC,eAAf;AAAA,mCACI;AAAA,oCAAe,KAAKD,KAAL,CAAWE,QAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,kBANA,eAUA;AAAK,YAAA,SAAS,EAAC,eAAf;AAAA,mCACI;AAAA,8CAAoB,KAAKF,KAAL,CAAWI,GAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,kBAVA,eAcA;AAAO,YAAA,SAAS,EAAC,cAAjB;AAAgC,YAAA,IAAI,EAAC,QAArC;AAA8C,YAAA,OAAO,EAAE,KAAKI,YAA5D;AAA0E,YAAA,KAAK,EAAC;AAAhF;AAAA;AAAA;AAAA;AAAA,kBAdA,eAcmG;AAAA;AAAA;AAAA;AAAA,kBAdnG,eAeA;AAAO,YAAA,SAAS,EAAC,aAAjB;AAA+B,YAAA,IAAI,EAAC,QAApC;AAA6C,YAAA,OAAO,EAAE,KAAKC,UAA3D;AAAuE,YAAA,KAAK,EAAC;AAA7E;AAAA;AAAA;AAAA;AAAA,kBAfA,eAemG;AAAA;AAAA;AAAA;AAAA,kBAfnG;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADR;AAAA;AAAA;AAAA;AAAA,YAFJ;AA6BH;;AAlG0B;;AAqG/B,eAAeX,OAAf","sourcesContent":["import React, { Component } from 'react'\nimport randomstring from 'randomstring'\nimport moment from 'moment'\nimport \"../../../Css/Receipt.css\"\n\n\n\nclass Receipt extends Component{\n\n    constructor(){\n        super()\n        this.state={\n\n            txnId : \"\",\n            dateTime : moment().format('MMMM Do YYYY, h:mm:ss a'),\n            amt : 0,\n            data:\"\"\n        }\n\n        this.handleChange = this.handleChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.ticketView = this.ticketView.bind(this);\n    }\n\n    /*handleChange(event){\n        this.setState({\n            [ event.target.name ] : event.target.value\n          })\n      }*/\n\n    async ticketView(event){\n       event.preventDefault();\n\n\n        var form={\n            transaction_id: this.state.txnId,\n            token: localStorage.getItem(\"token\")\n        }\n      fetch(\"http://127.0.0.1:8000/booking/get_transaction_tickets/\",{\n        method: 'POST',\n        headers : {'Content-type': 'application/json'},\n        body: JSON.stringify(form)\n    })  \n    .then(response => \n        response.json()\n        \n      )\n    .then( data =>{\n        console.log(data)\n        this.props.history.push({pathname : '/Dashboard/Ticket' , state : data})\n        \n    })\n     \n    \n    }\n\n    async handleSubmit(event){\n        event.preventDefault();\n           \n         this.props.history.push('/Dashboard'); \n     }\n\n    handleChange(event){\n        this.setState({\n            [ event.target.name ] : event.target.value\n          })\n    }\n\n    render() {\n        \n        \n        this.state.data = this.props.history.location.state;\n        this.state.txnId= this.state.data.transaction_id;\n        this.state.amt= this.state.data.price\n        console.log(this.state.data)\n\n        return (\n\n            <div className=\"receipt\">\n                    <div className=\"receipt-box\">\n                        <h2>Your Transaction is Successful !</h2>\n                        <form autoComplete=\"off\">\n\n                        <div className=\"receipt-label\">\n                            <label>Transaction ID : {this.state.txnId}</label>\n                        </div>\n\n                        <div className=\"receipt-label\">\n                            <label>Date : {this.state.dateTime} </label>\n                        </div>\n                        \n                        <div className=\"receipt-label\">\n                            <label>Amount :  â‚¹ {this.state.amt}</label>\n                        </div>\n\n                        <input className=\"receipt-home\" type=\"submit\" onClick={this.handleSubmit} value=\"Go to Dashboard\"/><br/>\n                        <input className=\"ticket-view\" type=\"submit\" onClick={this.ticketView} value=\"View Booked Ticket\"/><br/>\n                        </form>\n                        \n\n\n                    </div>\n                </div>\n            \n        )\n    }\n}\n\nexport default Receipt;"]},"metadata":{},"sourceType":"module"}